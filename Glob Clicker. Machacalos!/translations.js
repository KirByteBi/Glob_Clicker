const translations = {
    es: {
        globs: "Globs:",
        gps: "(+/s)",
        openShop: "üè™ Abrir Tienda",
        closeShop: "Cerrar",
        shopTitle: "üè™ Tienda de Mejoras",
        cost: "Costo:",
        level: "Nivel:",
        newBadge: "¬°Nuevo Emblema Desbloqueado!",
        awesome: "¬°Genial!",
        
        // Textos de mejoras
        mejora1: "Genera 0.8 globs por segundo",
        mejora2: "Genera 1.6 globs por segundo",
        mejora3: "+1 click extra por clic",
        mejora4: "¬°Aparecen Stupid Pyces! Golp√©alos para obtener globs.",
        mejora5: "Genera 2.4 globs por segundo",
        mejora6: "5% de aparecer (+2% por compra). ¬°Click√©alos para 10-50 globs!",
        mejora7: "Elimina todos los Stupid Pyces",
        mejora9: "Genera 3.2 globs por segundo",
        mejora10: "¬°1% de Ducky dorado (200 globs)!",
        mejora11: "Genera 4.0 globs por segundo",
        mejora12: "Aumenta probabilidad de eventos (+15% inicial)",
        mejora13: "Genera 5.6 globs por segundo",
        mejora14: "¬°+100 globs instant√°neos!",
        mejora15: "Genera 6.4 globs por segundo + Guest Pyces",
        mejora16: "Genera 7.2 globs por segundo",
        mejora17: "Elimina todos los Noob Pyces",
        mejora18: "¬°Efecto visual especial!",
        mejora19: "Elimina todos los Guest Pyces",
        mejora20: "Genera 8.0 globs por segundo",
        mejora21: "Me pregunto d√≥nde podr√© obtener esto... Alomejor Kirb sabe!",
        
        // Nombres de mejoras
        mejora1_nombre: "Glob Rojo",
        mejora2_nombre: "Glob de Jabon",
        mejora3_nombre: "¬°Mas Clicks!",
        mejora4_nombre: "Tiempo Aleatorio",
        mejora5_nombre: "Glob de Nube de Azucar",
        mejora6_nombre: "Lucky Block",
        mejora7_nombre: "Antivirus de Pyces por Defecto",
        mejora9_nombre: "Ducky Glob",
        mejora10_nombre: "Fiebre de Ducky",
        mejora11_nombre: "Glob Robotoico",
        mejora12_nombre: "Mas Suerte",
        mejora13_nombre: "Glob Fundido",
        mejora14_nombre: "Glob Dorado",
        mejora15_nombre: "Ducky Glob Dorado",
        mejora16_nombre: "Glob Cometa",
        mejora17_nombre: "Antiguo Actualizador de Roblox",
        mejora18_nombre: "Glob Arcoiris",
        mejora19_nombre: "Eliminacion de Guests",
        mejora20_nombre: "Glob Oscuro",
        mejora21_nombre: "Pyce Glob",
        
        // Nombres de emblemas
        emblema1_nombre: "Glob!",
        emblema2_nombre: "te sientes Pycante?",
        emblema3_nombre: "Clicks verdosos!",
        emblema4_nombre: "Encontramos a Ducky Glob!",
        emblema5_nombre: "Oh no...",
        emblema6_nombre: "Clicks Gelatinosos",
        emblema7_nombre: "Suerte Bloqueada",
        emblema8_nombre: "Suerte Bloqueada",
        emblema9_nombre: "OGs Pyces",
        emblema10_nombre: "Master de Clicks",
        emblema11_nombre: "Pyces Desintalados",
        emblema12_nombre: "Lanzada de Azar",
        emblema13_nombre: "Tiempo Nocturno",
        emblema14_nombre: "Experto de Clicks",
        emblema15_nombre: "Buscador sin vida",
        emblema16_nombre: "Ultramejorado! (BETA)",
        emblema17_nombre: "Imperio de Globs",
        emblema18_nombre: "Una Extra√±a Fusion..."
    },
    en: {
        globs: "Globs:",
        gps: "(+/s)",
        openShop: "üè™ Open Shop",
        closeShop: "Close",
        shopTitle: "üè™ Upgrade Shop",
        cost: "Cost:",
        level: "Level:",
        newBadge: "New Badge Unlocked!",
        awesome: "Awesome!",
        
        // Upgrade texts
        mejora1: "Generates 0.8 globs per second",
        mejora2: "Generates 1.6 globs per second",
        mejora3: "+1 extra click per click",
        mejora4: "Stupid Pyces appear! Hit them to get globs.",
        mejora5: "Generates 2.4 globs per second",
        mejora6: "5% chance to appear (+2% per purchase). Click them for 10-50 globs!",
        mejora7: "Removes all Stupid Pyces",
        mejora9: "Generates 3.2 globs per second",
        mejora10: "1% chance for golden Ducky (200 globs)!",
        mejora11: "Generates 4.0 globs per second",
        mejora12: "Increases event probability (+15% initially)",
        mejora13: "Generates 5.6 globs per second",
        mejora14: "+100 instant globs!",
        mejora15: "Generates 6.4 globs per second + Guest Pyces",
        mejora16: "Generates 7.2 globs per second",
        mejora17: "Removes all Noob Pyces",
        mejora18: "Special visual effect!",
        mejora19: "Removes all Guest Pyces",
        mejora20: "Generates 8.0 globs per second",
        mejora21: "I wonder where I can get this... Maybe Kirb knows!",
        
        // Nombres de mejoras en ingl√©s
        mejora1_nombre: "Red Glob",
        mejora2_nombre: "Soap Glob",
        mejora3_nombre: "More Clicks!",
        mejora4_nombre: "Random Time",
        mejora5_nombre: "Cotton Candy Glob",
        mejora6_nombre: "Lucky Block",
        mejora7_nombre: "Default Pyce Antivirus",
        mejora9_nombre: "Ducky Glob",
        mejora10_nombre: "Ducky Fever",
        mejora11_nombre: "Robotic Glob",
        mejora12_nombre: "More Luck",
        mejora13_nombre: "Molten Glob",
        mejora14_nombre: "Golden Glob",
        mejora15_nombre: "Golden Ducky Glob",
        mejora16_nombre: "Comet Glob",
        mejora17_nombre: "Old Roblox Updater",
        mejora18_nombre: "Rainbow Glob",
        mejora19_nombre: "Guest Elimination",
        mejora20_nombre: "Dark Glob",
        mejora21_nombre: "Pyce Glob",
        
        // Nombres de emblemas en ingl√©s
        emblema1_nombre: "Glob!",
        emblema2_nombre: "Feeling Pycish?",
        emblema3_nombre: "Greenish Clicks!",
        emblema4_nombre: "Found Ducky Glob!",
        emblema5_nombre: "Oh no...",
        emblema6_nombre: "Jelly Clicks",
        emblema7_nombre: "Locked Luck",
        emblema8_nombre: "Locked Luck",
        emblema9_nombre: "OG Pyces",
        emblema10_nombre: "Click Master",
        emblema11_nombre: "Uninstalled Pyces",
        emblema12_nombre: "Random Throw",
        emblema13_nombre: "Night Time",
        emblema14_nombre: "Click Expert",
        emblema15_nombre: "Lifeless Seeker",
        emblema16_nombre: "Ultraupgraded! (BETA)",
        emblema17_nombre: "Glob Empire",
        emblema18_nombre: "A Strange Fusion..."
    }
};

let currentLanguage = 'es';

function translateText(key) {
    return translations[currentLanguage][key] || translations['es'][key] || key;
}

function updateLanguage(lang) {
    currentLanguage = lang;
    const spanishBtn = document.getElementById('spanishBtn');
    const englishBtn = document.getElementById('englishBtn');
    if (spanishBtn) spanishBtn.classList.toggle('active', lang === 'es');
    if (englishBtn) englishBtn.classList.toggle('active', lang === 'en');

    // Actualizar textos de la interfaz
    const counter = document.querySelector('#counter');
    const gpsDisplay = document.querySelector('.gps-display');
    const abrirTienda = document.getElementById('abrirTienda');
    const cerrarTienda = document.getElementById('cerrar-tienda');
    const shopTitle = document.querySelector('.contenido-tienda h2');

    if (counter) counter.firstChild.textContent = translateText('globs') + ' ';
    if (gpsDisplay) gpsDisplay.textContent = translateText('gps').replace('(+/s)', `(+${document.getElementById('gps')?.textContent}/s)`);
    if (abrirTienda) abrirTienda.textContent = translateText('openShop');
    if (shopTitle) shopTitle.textContent = translateText('shopTitle');
    if (cerrarTienda) cerrarTienda.textContent = translateText('closeShop');

    // Regenerar la tienda si est√° abierta
    if (typeof tiendaAbierta !== 'undefined' && tiendaAbierta) {
        generarTienda();
    }
    // Actualizar emblemas
    actualizarEmblemasUI();
}